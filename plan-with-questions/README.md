# plan-with-questions

質問で要件を深掘りしてからプランニングする Claude Code プラグイン。

## 概要

曖昧な要件から始まるタスクに対して、`AskUserQuestion` ツールを使って対話的に要件を明確化し、整理した内容をプランとして出力します。

## 機能

- **対話的な要件明確化**: 3-5問程度の質問で目的・スコープ・技術方針・優先順位を深掘り
- **合意確認**: 整理した要件を構造化して提示し、認識のズレを防止
- **3つの出力形式**:
  - ファイル出力（`tmp/{plan_name}.md`）
  - Claude Code の Plan モードで実行
  - チャットで説明（ファイル出力なし）
- **情報収集**: 必要に応じて Web 検索や既存コードの確認が可能

## 使い方

```bash
# 相談内容を引数で指定
/plan-with-questions ログイン機能を追加したい

# 引数なしで実行（対話的に相談内容を聞く）
/plan-with-questions
```

## 実行フロー

1. **初期化**: 相談内容を受け取る（引数 or 対話）
2. **質問フェーズ**: 目的・スコープ・技術選定・優先順位・既存資産について質問
3. **合意確認**: 整理した要件をユーザーに提示して確認
4. **出力形式選択**: ファイル / Plan モード / チャット から選択
5. **プラン作成**: 選択された形式でプランを出力
6. **完了**: 次のステップを提案

## インストール

### マーケットプレイス経由（推奨）

```bash
# マーケットプレイスを登録
/plugin marketplace add chippy-ao/claude-code

# プラグインをインストール
/plugin install plan-with-questions@chippy-ao-plugins
```

### ローカルディレクトリ指定

```bash
claude --plugin-dir /path/to/plan-with-questions
```

## ライセンス

MIT